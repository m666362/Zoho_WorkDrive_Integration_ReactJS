{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rayhan\\\\Unique Project\\\\zoho_api_axios(1)\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"react-perfect-scrollbar/dist/css/styles.css\";\nimport { BuildTheme } from \"./assets/global/Theme-variable\";\nimport Response from \"./components/Playground/Response\";\nimport \"./App.css\";\nimport { makeStyles } from \"@mui/styles\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport useTrackedStore from \"./store/useTrackedStore\";\nimport CryptoJS from \"crypto-js\";\nimport * as ApiCall from \"./components/Playground/api/ApiCalling\";\nimport axios from \"axios\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport PropTypes from \"prop-types\";\nimport Typography from \"@mui/material/Typography\";\nimport Box from \"@mui/material/Box\";\nimport TabPanel from \"./components/Playground/TabPanel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ZOHO = window.ZOHO;\nconst useStyles = makeStyles({\n  grid: {\n    border: \"1px solid black\"\n  },\n  icon: {\n    fontSize: \"30px !important\"\n  }\n});\n\nfunction converConncectionMap(connMap) {\n  return {\n    clientId: connMap === null || connMap === void 0 ? void 0 : connMap.client_id,\n    clientSecret: connMap === null || connMap === void 0 ? void 0 : connMap.client_secret,\n    authUrl: connMap === null || connMap === void 0 ? void 0 : connMap.auth_url,\n    refreshUrl: connMap === null || connMap === void 0 ? void 0 : connMap.refresh_url,\n    refreshToken: connMap === null || connMap === void 0 ? void 0 : connMap.refresh_token,\n    token_type: connMap === null || connMap === void 0 ? void 0 : connMap.token_type,\n    connName: connMap === null || connMap === void 0 ? void 0 : connMap.conn_name,\n    orgId: connMap === null || connMap === void 0 ? void 0 : connMap.org_id,\n    apiKey: connMap === null || connMap === void 0 ? void 0 : connMap.api_key\n  };\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nconst App = () => {\n  _s();\n\n  var _stateSettings$map, _stateSettings$map2;\n\n  const classes = useStyles();\n  const state = useTrackedStore();\n  const [entity, setEntity] = useState(\"\");\n  const [entityId, setEntityId] = useState(\"\");\n  const [zohoLoaded, setZohoLoaded] = useState(false);\n  const [rootFolderId, setRootFolderId] = useState(null);\n  const [userAccessToken, setUserAccessToken] = useState(null);\n  const [value, setValue] = React.useState(0);\n  const [stateSettings, setStateSettings] = useState([]);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const setUserDriveData = settings => {\n    let userDriveData = [];\n    console.table(settings, [\"Name\"]);\n    userDriveData = settings === null || settings === void 0 ? void 0 : settings.map(async setting => {\n      var _settingSchema$zoho_w, _settingSchema$conn_n, _settingSchema$conn_n2, _accessTokenMap$data, _accessTokenMap$data$, _accessTokenMap$data2, _accessTokenMap$data3, _accessTokenMap$data4, _accessTokenMap$data5, _accessTokenMap$data6, _accessTokenMap$data7, _contactMap$data, _contactMap$data$, _settingSchema$zoho_w2, _contactMap$data2, _contactMap$data2$, _settingSchema$zoho_w3, _accessTokenMap$data8, _accessTokenMap$data9;\n\n      // console.table(settings?.data, [\"Name\"]);\n      // setUserDriveData(settings?.data);\n      // setStateSettings(settings?.data);\n      const encSchema = setting === null || setting === void 0 ? void 0 : setting.zworkflows__Setting_Schema_Frontend;\n      console.log({\n        encSchema\n      }, entityId);\n      const bytes = CryptoJS.AES.decrypt(encSchema, setting === null || setting === void 0 ? void 0 : setting.id);\n      console.log({\n        bytes\n      });\n      var originalText = bytes.toString(CryptoJS.enc.Utf8);\n      const settingSchema = JSON.parse(originalText);\n      console.log({\n        settingSchema: settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w === void 0 ? void 0 : _settingSchema$zoho_w.api_name\n      });\n      const connSchemaStr = CryptoJS.AES.decrypt(settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$conn_n = settingSchema.conn_name) === null || _settingSchema$conn_n === void 0 ? void 0 : _settingSchema$conn_n.zworkflows__Connection_Settings_Frontend, settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$conn_n2 = settingSchema.conn_name) === null || _settingSchema$conn_n2 === void 0 ? void 0 : _settingSchema$conn_n2.id).toString(CryptoJS.enc.Utf8);\n      console.log(JSON.parse(connSchemaStr));\n      const connMap = JSON.parse(connSchemaStr);\n      console.log({\n        connMap\n      });\n      const accessokenUrl = \"https://instafunctions-695631012.development.catalystserverless.com/server/v1/auth/tokens/accesstoken\";\n      const accessTokenMap = await axios.post(accessokenUrl, converConncectionMap(connMap));\n      console.log({\n        accessTokenMapx: accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data = accessTokenMap.data) === null || _accessTokenMap$data === void 0 ? void 0 : (_accessTokenMap$data$ = _accessTokenMap$data.data) === null || _accessTokenMap$data$ === void 0 ? void 0 : _accessTokenMap$data$.token\n      });\n      const userToken = accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data2 = accessTokenMap.data) === null || _accessTokenMap$data2 === void 0 ? void 0 : (_accessTokenMap$data3 = _accessTokenMap$data2.data) === null || _accessTokenMap$data3 === void 0 ? void 0 : _accessTokenMap$data3.token;\n      setUserAccessToken(accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data4 = accessTokenMap.data) === null || _accessTokenMap$data4 === void 0 ? void 0 : (_accessTokenMap$data5 = _accessTokenMap$data4.data) === null || _accessTokenMap$data5 === void 0 ? void 0 : _accessTokenMap$data5.token);\n      state.setToken(accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data6 = accessTokenMap.data) === null || _accessTokenMap$data6 === void 0 ? void 0 : (_accessTokenMap$data7 = _accessTokenMap$data6.data) === null || _accessTokenMap$data7 === void 0 ? void 0 : _accessTokenMap$data7.token);\n      state.setUserToken(userToken);\n      const contactMap = await ZOHO.CRM.API.getRecord({\n        Entity: entity,\n        RecordID: entityId\n      });\n      console.log({\n        xdata: {\n          Name: setting === null || setting === void 0 ? void 0 : setting.Name,\n          folderId: contactMap === null || contactMap === void 0 ? void 0 : (_contactMap$data = contactMap.data) === null || _contactMap$data === void 0 ? void 0 : (_contactMap$data$ = _contactMap$data[0]) === null || _contactMap$data$ === void 0 ? void 0 : _contactMap$data$[settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w2 = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w2 === void 0 ? void 0 : _settingSchema$zoho_w2.api_name]\n        }\n      });\n      return {\n        Name: setting === null || setting === void 0 ? void 0 : setting.Name,\n        folderId: contactMap === null || contactMap === void 0 ? void 0 : (_contactMap$data2 = contactMap.data) === null || _contactMap$data2 === void 0 ? void 0 : (_contactMap$data2$ = _contactMap$data2[0]) === null || _contactMap$data2$ === void 0 ? void 0 : _contactMap$data2$[settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w3 = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w3 === void 0 ? void 0 : _settingSchema$zoho_w3.api_name],\n        userAccessToken: accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data8 = accessTokenMap.data) === null || _accessTokenMap$data8 === void 0 ? void 0 : (_accessTokenMap$data9 = _accessTokenMap$data8.data) === null || _accessTokenMap$data9 === void 0 ? void 0 : _accessTokenMap$data9.token\n      }; // .then(function (data) {\n      //   setRootFolderId(\n      //     data?.data?.[0]?.[\n      //       settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\n      //     ]\n      //   );\n      //   console.log({\n      //     data: data?.data?.[0]?.[\n      //       settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\n      //     ],\n      //   });\n      //   console.log({ bread: state.bread });\n      // });\n    });\n    console.log({\n      userDriveData\n    });\n    setStateSettings();\n  };\n\n  useEffect(() => {\n    /*\r\n     * Subscribe to the EmbeddedApp onPageLoad event before initializing\r\n     */\n    ZOHO.embeddedApp.on(\"PageLoad\", function (data) {\n      console.log(\"Module Data \", data);\n      setEntity(data === null || data === void 0 ? void 0 : data.Entity);\n      setEntityId(data === null || data === void 0 ? void 0 : data.EntityId);\n      setZohoLoaded(true); //Custom Bussiness logic goes here\n    });\n    /*\r\n     * initializing the widget.\r\n     */\n\n    ZOHO.embeddedApp.init();\n  }, []);\n  useEffect(async () => {\n    if (zohoLoaded && entity !== \"\" && entityId !== \"\") {\n      var _settings$data, _settingSchema$zoho_w4, _settingSchema$conn_n3, _settingSchema$conn_n4, _accessTokenMap$data10, _accessTokenMap$data11, _accessTokenMap$data12, _accessTokenMap$data13, _accessTokenMap$data14, _accessTokenMap$data15, _accessTokenMap$data16, _accessTokenMap$data17;\n\n      const settings = await ZOHO.CRM.API.searchRecord({\n        Entity: \"zworkflows__ZWorkFlow_Settings\",\n        Type: \"criteria\",\n        Query: \"(((zworkflows__Service_Type:equals:'ZOHO Workdrive') and (zworkflows__Settings_Type:equals:Addon)) and (zworkflows__Module_Name:equals:\" + entity + \" ))\"\n      });\n      console.log(\"settings\", settings === null || settings === void 0 ? void 0 : settings.data);\n      console.table(settings === null || settings === void 0 ? void 0 : settings.data);\n      setUserDriveData(settings === null || settings === void 0 ? void 0 : settings.data);\n      setStateSettings(settings === null || settings === void 0 ? void 0 : settings.data);\n      const setting1 = settings === null || settings === void 0 ? void 0 : (_settings$data = settings.data) === null || _settings$data === void 0 ? void 0 : _settings$data[2];\n      const encSchema = setting1 === null || setting1 === void 0 ? void 0 : setting1.zworkflows__Setting_Schema_Frontend;\n      console.log({\n        encSchema\n      }, entityId);\n      const bytes = CryptoJS.AES.decrypt(encSchema, setting1 === null || setting1 === void 0 ? void 0 : setting1.id);\n      console.log({\n        bytes\n      });\n      var originalText = bytes.toString(CryptoJS.enc.Utf8);\n      const settingSchema = JSON.parse(originalText);\n      console.log({\n        settingSchema: settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w4 = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w4 === void 0 ? void 0 : _settingSchema$zoho_w4.api_name\n      });\n      const connSchemaStr = CryptoJS.AES.decrypt(settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$conn_n3 = settingSchema.conn_name) === null || _settingSchema$conn_n3 === void 0 ? void 0 : _settingSchema$conn_n3.zworkflows__Connection_Settings_Frontend, settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$conn_n4 = settingSchema.conn_name) === null || _settingSchema$conn_n4 === void 0 ? void 0 : _settingSchema$conn_n4.id).toString(CryptoJS.enc.Utf8);\n      console.log(JSON.parse(connSchemaStr));\n      const connMap = JSON.parse(connSchemaStr);\n      console.log({\n        connMap\n      });\n      const accessokenUrl = \"https://instafunctions-695631012.development.catalystserverless.com/server/v1/auth/tokens/accesstoken\";\n      const accessTokenMap = await axios.post(accessokenUrl, converConncectionMap(connMap));\n      console.log({\n        accessTokenMap: accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data10 = accessTokenMap.data) === null || _accessTokenMap$data10 === void 0 ? void 0 : (_accessTokenMap$data11 = _accessTokenMap$data10.data) === null || _accessTokenMap$data11 === void 0 ? void 0 : _accessTokenMap$data11.token\n      });\n      const userToken = accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data12 = accessTokenMap.data) === null || _accessTokenMap$data12 === void 0 ? void 0 : (_accessTokenMap$data13 = _accessTokenMap$data12.data) === null || _accessTokenMap$data13 === void 0 ? void 0 : _accessTokenMap$data13.token;\n      setUserAccessToken(accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data14 = accessTokenMap.data) === null || _accessTokenMap$data14 === void 0 ? void 0 : (_accessTokenMap$data15 = _accessTokenMap$data14.data) === null || _accessTokenMap$data15 === void 0 ? void 0 : _accessTokenMap$data15.token);\n      state.setToken(accessTokenMap === null || accessTokenMap === void 0 ? void 0 : (_accessTokenMap$data16 = accessTokenMap.data) === null || _accessTokenMap$data16 === void 0 ? void 0 : (_accessTokenMap$data17 = _accessTokenMap$data16.data) === null || _accessTokenMap$data17 === void 0 ? void 0 : _accessTokenMap$data17.token);\n      state.setUserToken(userToken);\n      const contactMap = await ZOHO.CRM.API.getRecord({\n        Entity: entity,\n        RecordID: entityId\n      }).then(function (data) {\n        var _data$data, _data$data$, _settingSchema$zoho_w5, _data$data2, _data$data2$, _settingSchema$zoho_w6;\n\n        setRootFolderId(data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$ = _data$data[0]) === null || _data$data$ === void 0 ? void 0 : _data$data$[settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w5 = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w5 === void 0 ? void 0 : _settingSchema$zoho_w5.api_name]);\n        console.log({\n          data: data === null || data === void 0 ? void 0 : (_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : (_data$data2$ = _data$data2[0]) === null || _data$data2$ === void 0 ? void 0 : _data$data2$[settingSchema === null || settingSchema === void 0 ? void 0 : (_settingSchema$zoho_w6 = settingSchema.zoho_workdrive__crm_field_for_folder_id) === null || _settingSchema$zoho_w6 === void 0 ? void 0 : _settingSchema$zoho_w6.api_name]\n        });\n        console.log({\n          bread: state.bread\n        });\n      });\n    }\n  }, [zohoLoaded, entity, entityId]); // React.useEffect(() => {\n  //   ApiCall.getAccessToken()\n  //     .then((res) => {\n  //       state.setToken(res.access_token);\n  //       state.setLoading(false);\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //     });\n  // });\n\n  const customizer = {\n    direction: \"ltr\",\n    theme: \"PURPLE_THEME\",\n    activeMode: \"light\"\n  };\n  const theme = BuildTheme(customizer);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        borderBottom: 1,\n        borderColor: \"divider\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"basic tabs example\",\n        children: (_stateSettings$map = stateSettings.map((setting, index) => {\n          return /*#__PURE__*/_jsxDEV(Tab, {\n            label: setting === null || setting === void 0 ? void 0 : setting.Name,\n            ...a11yProps(index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 20\n          }, this);\n        })) !== null && _stateSettings$map !== void 0 ? _stateSettings$map : {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), (_stateSettings$map2 = stateSettings.map((setting, index) => {\n      return /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: index,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(Response, {\n            rootFolderId: rootFolderId,\n            userAccessToken: userAccessToken\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n            sx: {\n              color: \"#fff\",\n              zIndex: theme => theme.zIndex.drawer + 1\n            },\n            open: state.loading,\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this);\n    })) !== null && _stateSettings$map2 !== void 0 ? _stateSettings$map2 : {}]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"guWF5FlzUsXlgBAumJzeiwmm3u0=\", false, function () {\n  return [useStyles, useTrackedStore];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Rayhan/Unique Project/zoho_api_axios(1)/src/App.js"],"names":["React","useEffect","useState","BuildTheme","Response","makeStyles","Backdrop","CircularProgress","useTrackedStore","CryptoJS","ApiCall","axios","Tabs","Tab","PropTypes","Typography","Box","TabPanel","ZOHO","window","useStyles","grid","border","icon","fontSize","converConncectionMap","connMap","clientId","client_id","clientSecret","client_secret","authUrl","auth_url","refreshUrl","refresh_url","refreshToken","refresh_token","token_type","connName","conn_name","orgId","org_id","apiKey","api_key","a11yProps","index","id","App","classes","state","entity","setEntity","entityId","setEntityId","zohoLoaded","setZohoLoaded","rootFolderId","setRootFolderId","userAccessToken","setUserAccessToken","value","setValue","stateSettings","setStateSettings","handleChange","event","newValue","setUserDriveData","settings","userDriveData","console","table","map","setting","encSchema","zworkflows__Setting_Schema_Frontend","log","bytes","AES","decrypt","originalText","toString","enc","Utf8","settingSchema","JSON","parse","zoho_workdrive__crm_field_for_folder_id","api_name","connSchemaStr","zworkflows__Connection_Settings_Frontend","accessokenUrl","accessTokenMap","post","accessTokenMapx","data","token","userToken","setToken","setUserToken","contactMap","CRM","API","getRecord","Entity","RecordID","xdata","Name","folderId","embeddedApp","on","EntityId","init","searchRecord","Type","Query","setting1","then","bread","customizer","direction","theme","activeMode","width","borderBottom","borderColor","color","zIndex","drawer","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"react-perfect-scrollbar/dist/css/styles.css\";\r\nimport { BuildTheme } from \"./assets/global/Theme-variable\";\r\nimport Response from \"./components/Playground/Response\";\r\nimport \"./App.css\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport Backdrop from \"@mui/material/Backdrop\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport useTrackedStore from \"./store/useTrackedStore\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport * as ApiCall from \"./components/Playground/api/ApiCalling\";\r\nimport axios from \"axios\";\r\nimport Tabs from \"@mui/material/Tabs\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TabPanel from \"./components/Playground/TabPanel\";\r\n\r\nconst ZOHO = window.ZOHO;\r\n\r\nconst useStyles = makeStyles({\r\n  grid: {\r\n    border: \"1px solid black\",\r\n  },\r\n  icon: {\r\n    fontSize: \"30px !important\",\r\n  },\r\n});\r\n\r\nfunction converConncectionMap(connMap) {\r\n  return {\r\n    clientId: connMap?.client_id,\r\n    clientSecret: connMap?.client_secret,\r\n    authUrl: connMap?.auth_url,\r\n    refreshUrl: connMap?.refresh_url,\r\n    refreshToken: connMap?.refresh_token,\r\n    token_type: connMap?.token_type,\r\n    connName: connMap?.conn_name,\r\n    orgId: connMap?.org_id,\r\n    apiKey: connMap?.api_key,\r\n  };\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst App = () => {\r\n  const classes = useStyles();\r\n  const state = useTrackedStore();\r\n  const [entity, setEntity] = useState(\"\");\r\n  const [entityId, setEntityId] = useState(\"\");\r\n  const [zohoLoaded, setZohoLoaded] = useState(false);\r\n  const [rootFolderId, setRootFolderId] = useState(null);\r\n  const [userAccessToken, setUserAccessToken] = useState(null);\r\n  const [value, setValue] = React.useState(0);\r\n  const [stateSettings, setStateSettings] = useState([]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const setUserDriveData = (settings) => {\r\n    let userDriveData = [];\r\n    console.table(settings, [\"Name\"])\r\n    userDriveData = settings?.map(async (setting) => {\r\n      // console.table(settings?.data, [\"Name\"]);\r\n      // setUserDriveData(settings?.data);\r\n      // setStateSettings(settings?.data);\r\n      const encSchema = setting?.zworkflows__Setting_Schema_Frontend;\r\n      console.log({ encSchema }, entityId);\r\n      const bytes = CryptoJS.AES.decrypt(encSchema, setting?.id);\r\n      console.log({ bytes });\r\n      var originalText = bytes.toString(CryptoJS.enc.Utf8);\r\n      const settingSchema = JSON.parse(originalText);\r\n      console.log({\r\n        settingSchema:\r\n          settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name,\r\n      });\r\n      const connSchemaStr = CryptoJS.AES.decrypt(\r\n        settingSchema?.conn_name?.zworkflows__Connection_Settings_Frontend,\r\n        settingSchema?.conn_name?.id\r\n      ).toString(CryptoJS.enc.Utf8);\r\n      console.log(JSON.parse(connSchemaStr));\r\n      const connMap = JSON.parse(connSchemaStr);\r\n      console.log({ connMap });\r\n      const accessokenUrl =\r\n        \"https://instafunctions-695631012.development.catalystserverless.com/server/v1/auth/tokens/accesstoken\";\r\n\r\n      const accessTokenMap = await axios.post(\r\n        accessokenUrl,\r\n        converConncectionMap(connMap)\r\n      );\r\n      console.log({ accessTokenMapx: accessTokenMap?.data?.data?.token });\r\n      const userToken = accessTokenMap?.data?.data?.token;\r\n      setUserAccessToken(accessTokenMap?.data?.data?.token);\r\n      state.setToken(accessTokenMap?.data?.data?.token);\r\n      state.setUserToken(userToken);\r\n      const contactMap = await ZOHO.CRM.API.getRecord({\r\n        Entity: entity,\r\n        RecordID: entityId,\r\n      })\r\n\r\n      console.log({xdata: {\r\n        Name: setting?.Name,\r\n        folderId: contactMap?.data?.[0]?.[\r\n          settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n        ]\r\n      }});\r\n      \r\n      return {\r\n        Name: setting?.Name,\r\n        folderId: contactMap?.data?.[0]?.[\r\n          settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n        ],\r\n        userAccessToken: accessTokenMap?.data?.data?.token\r\n      }\r\n\r\n      // .then(function (data) {\r\n      //   setRootFolderId(\r\n      //     data?.data?.[0]?.[\r\n      //       settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n      //     ]\r\n      //   );\r\n      //   console.log({\r\n      //     data: data?.data?.[0]?.[\r\n      //       settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n      //     ],\r\n      //   });\r\n      //   console.log({ bread: state.bread });\r\n      // });\r\n    });\r\n    console.log( {userDriveData} );\r\n    setStateSettings()\r\n  };\r\n\r\n  useEffect(() => {\r\n    /*\r\n     * Subscribe to the EmbeddedApp onPageLoad event before initializing\r\n     */\r\n\r\n    ZOHO.embeddedApp.on(\"PageLoad\", function (data) {\r\n      console.log(\"Module Data \", data);\r\n      setEntity(data?.Entity);\r\n      setEntityId(data?.EntityId);\r\n      setZohoLoaded(true);\r\n      //Custom Bussiness logic goes here\r\n    });\r\n\r\n    /*\r\n     * initializing the widget.\r\n     */\r\n    ZOHO.embeddedApp.init();\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    if (zohoLoaded && entity !== \"\" && entityId !== \"\") {\r\n      const settings = await ZOHO.CRM.API.searchRecord({\r\n        Entity: \"zworkflows__ZWorkFlow_Settings\",\r\n        Type: \"criteria\",\r\n        Query:\r\n          \"(((zworkflows__Service_Type:equals:'ZOHO Workdrive') and (zworkflows__Settings_Type:equals:Addon)) and (zworkflows__Module_Name:equals:\" +\r\n          entity +\r\n          \" ))\",\r\n      });\r\n      console.log(\"settings\", settings?.data);\r\n      console.table(settings?.data);\r\n      setUserDriveData(settings?.data);\r\n      setStateSettings(settings?.data);\r\n      const setting1 = settings?.data?.[2];\r\n      const encSchema = setting1?.zworkflows__Setting_Schema_Frontend;\r\n      console.log({ encSchema }, entityId);\r\n      const bytes = CryptoJS.AES.decrypt(encSchema, setting1?.id);\r\n      console.log({ bytes });\r\n      var originalText = bytes.toString(CryptoJS.enc.Utf8);\r\n      const settingSchema = JSON.parse(originalText);\r\n      console.log({\r\n        settingSchema:\r\n          settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name,\r\n      });\r\n      const connSchemaStr = CryptoJS.AES.decrypt(\r\n        settingSchema?.conn_name?.zworkflows__Connection_Settings_Frontend,\r\n        settingSchema?.conn_name?.id\r\n      ).toString(CryptoJS.enc.Utf8);\r\n      console.log(JSON.parse(connSchemaStr));\r\n      const connMap = JSON.parse(connSchemaStr);\r\n      console.log({ connMap });\r\n      const accessokenUrl =\r\n        \"https://instafunctions-695631012.development.catalystserverless.com/server/v1/auth/tokens/accesstoken\";\r\n\r\n      const accessTokenMap = await axios.post(\r\n        accessokenUrl,\r\n        converConncectionMap(connMap)\r\n      );\r\n      console.log({ accessTokenMap: accessTokenMap?.data?.data?.token });\r\n      const userToken = accessTokenMap?.data?.data?.token;\r\n      setUserAccessToken(accessTokenMap?.data?.data?.token);\r\n      state.setToken(accessTokenMap?.data?.data?.token);\r\n      state.setUserToken(userToken);\r\n      const contactMap = await ZOHO.CRM.API.getRecord({\r\n        Entity: entity,\r\n        RecordID: entityId,\r\n      }).then(function (data) {\r\n        setRootFolderId(\r\n          data?.data?.[0]?.[\r\n            settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n          ]\r\n        );\r\n        console.log({\r\n          data: data?.data?.[0]?.[\r\n            settingSchema?.zoho_workdrive__crm_field_for_folder_id?.api_name\r\n          ],\r\n        });\r\n        console.log({ bread: state.bread });\r\n      });\r\n    }\r\n  }, [zohoLoaded, entity, entityId]);\r\n\r\n  // React.useEffect(() => {\r\n  //   ApiCall.getAccessToken()\r\n  //     .then((res) => {\r\n  //       state.setToken(res.access_token);\r\n  //       state.setLoading(false);\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error);\r\n  //     });\r\n  // });\r\n\r\n  const customizer = {\r\n    direction: \"ltr\",\r\n    theme: \"PURPLE_THEME\",\r\n    activeMode: \"light\",\r\n  };\r\n  const theme = BuildTheme(customizer);\r\n\r\n  return (\r\n    <Box sx={{ width: \"100%\" }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          aria-label=\"basic tabs example\"\r\n        >\r\n          {stateSettings.map((setting, index) => {\r\n            return <Tab label={setting?.Name} {...a11yProps(index)} />;\r\n          }) ?? {}}\r\n          {/* <Tab label=\"Item One X\" {...a11yProps(0)} />\r\n          <Tab label=\"Item Two\" {...a11yProps(1)} />\r\n          <Tab label=\"Item Three\" {...a11yProps(2)} /> */}\r\n        </Tabs>\r\n      </Box>\r\n      {stateSettings.map((setting, index) => {\r\n        return (\r\n          <TabPanel value={value} index={index}>\r\n            <div className=\"App\">\r\n              <Response\r\n                rootFolderId={rootFolderId}\r\n                userAccessToken={userAccessToken}\r\n              />\r\n              <Backdrop\r\n                sx={{\r\n                  color: \"#fff\",\r\n                  zIndex: (theme) => theme.zIndex.drawer + 1,\r\n                }}\r\n                open={state.loading}\r\n              >\r\n                <CircularProgress color=\"inherit\" />\r\n              </Backdrop>\r\n            </div>\r\n          </TabPanel>\r\n        );\r\n      }) ?? {}}\r\n      {/* <TabPanel value={value} index={0}>\r\n        <div className=\"App\">\r\n          <Response\r\n            rootFolderId={rootFolderId}\r\n            userAccessToken={userAccessToken}\r\n          />\r\n          <Backdrop\r\n            sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n            open={state.loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n        </div>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        Item Two\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        Item Three\r\n      </TabPanel> */}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}