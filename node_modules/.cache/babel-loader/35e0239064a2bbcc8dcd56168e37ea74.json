{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rayhan\\\\Unique Project\\\\zoho_api_axios(1)\\\\src\\\\components\\\\Playground\\\\BreadCumb.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport FolderOpenIcon from \"@mui/icons-material/FolderOpen\";\nimport NavigateNextIcon from \"@mui/icons-material/NavigateNext\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { TextField, Typography } from \"@mui/material\";\nimport Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport Button from \"@mui/material/Button\";\nimport Grid from \"@mui/material/Grid\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Link from \"@mui/material/Link\";\nimport Stack from \"@mui/material/Stack\";\nimport { alpha, styled } from \"@mui/material/styles\";\nimport { makeStyles } from \"@mui/styles\";\nimport axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport useTrackedStore from \"../../store/useTrackedStore\";\nimport NameDialog from \"./NameDialog\";\nimport FileUploadIcon from \"@mui/icons-material/FileUpload\";\nimport IconButton from \"@mui/material/IconButton\";\nimport GridViewIcon from \"@mui/icons-material/GridView\";\nimport ListIcon from \"@mui/icons-material/List\";\nimport * as ApiCall from \"./api/ApiCalling\";\nimport * as FileUploadResponse from \"./api/FileUploadResponse\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Input = styled(\"input\")({\n  display: \"none\"\n}); //search box component starts\n\nconst Search = styled(\"div\")(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: alpha(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  };\n});\nconst SearchIconWrapper = styled(\"div\")(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  };\n});\nconst StyledInputBase = styled(InputBase)(_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return {\n    color: \"inherit\",\n    \"& .MuiInputBase-input\": {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"12ch\",\n        \"&:focus\": {\n          width: \"20ch\"\n        }\n      }\n    }\n  };\n}); //search box component ends\n\nconst useStyles = makeStyles({\n  breadcumbstyle: {},\n  grid: {\n    backgroundColor: \"#EFEFEF\",\n    padding: \"0px 25px\",\n    alignItems: \"center\"\n  },\n  button: {\n    backgroundColor: \"#11BD97\",\n    height: \"70%\",\n    margin: \"auto\",\n    marginRight: 0,\n    boxShadow: \"none\",\n    borderRadius: \"2px\",\n    \"&:hover\": {\n      backgroundColor: \"#0E997B\",\n      boxShadow: \"none\"\n    }\n  }\n});\nexport default function CustomSeparator(_ref4) {\n  _s();\n\n  var _state$bread;\n\n  let {\n    setBreadCrumbsUrl,\n    setSearchVal,\n    searchVal,\n    setPost,\n    post,\n    setSnackOpen\n  } = _ref4;\n  const state = useTrackedStore();\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [name, setName] = React.useState(\"\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDrop = (e, file) => {\n    console.log({\n      e: file.id\n    });\n    let childId = e.dataTransfer.getData(\"dropFile\");\n    let response = {\n      data: {\n        data: [{\n          attributes: {\n            Permalink: e.dataTransfer.getData(\"filePermanentLink\"),\n            parent_id: file.id,\n            FileName: e.dataTransfer.getData(\"fileName\"),\n            resource_id: e.dataTransfer.getData(\"dropFile\"),\n            childSize: e.dataTransfer.getData(\"fileSize\")\n          },\n          type: e.dataTransfer.getData(\"fileType\")\n        }]\n      }\n    };\n    let myCustomFile = FileUploadResponse.makeCustomFile(response);\n    ApiCall.moveFile(state.token, file, childId).then(response => {\n      console.log({\n        resToBreadCrumb: response.data.data[0]\n      });\n      let xArray = post.filter(prop => prop.id != childId);\n      setSnackOpen(true);\n      setPost(xArray);\n      console.log({\n        fileDotId: file.id\n      });\n      state.setApiData(state.bread[state.bread.length - 1].id, xArray);\n\n      if (state.apiData[file.id]) {\n        let tempArray = state.apiData[file.id].concat([myCustomFile]);\n        state.setApiData(file.id, tempArray);\n      } // console.log({ inner: state.apiData[file.id] });\n\n\n      e.dataTransfer.setData(\"dropFile\", null);\n      console.log(response);\n      setSnackOpen(true);\n    }).catch(error => {\n      console.log({\n        error: error\n      });\n    });\n  };\n\n  const myBread = (_state$bread = state.bread) === null || _state$bread === void 0 ? void 0 : _state$bread.map((file, index) => {\n    if (index == state.bread.length - 1) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"text.primary\",\n        children: file.name\n      }, \"3\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        underline: \"none\",\n        color: \"inherit\",\n        href: \"#\",\n        id: file === null || file === void 0 ? void 0 : file.id,\n        onDrop: e => handleDrop(e, file),\n        onClick: () => {\n          setBreadCrumbsUrl(file);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    className: classes.grid,\n    item: true,\n    container: true,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      md: 7,\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        sx: {\n          position: \"relative\",\n          top: \"3px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          separator: /*#__PURE__*/_jsxDEV(NavigateNextIcon, {\n            fontSize: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 24\n          }, this),\n          \"aria-label\": \"breadcrumb\",\n          className: classes.breadcumbstyle,\n          children: myBread\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      md: 5,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          padding: \"1.5%\",\n          marginLeft: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          children: [/*#__PURE__*/_jsxDEV(SearchIconWrapper, {\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledInputBase, {\n            placeholder: \"Search\\u2026\",\n            value: searchVal,\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            onChange: e => setSearchVal(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          component: \"label\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 24\n          }, this),\n          onClick: handleClickOpen,\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          spacing: 1,\n          style: {\n            marginLeft: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"icon-button-file\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              id: \"icon-button-file\",\n              type: \"file\",\n              name: \"file\",\n              onChange: async e => {\n                console.log({\n                  files: e.target.files\n                });\n                const data = new FormData();\n                data.append(\"file\", e.target.files[0]);\n                let response = await ApiCall.fileUploader(state.token, data, state.bread.slice(-1)[0].id);\n                let myCustomFile = FileUploadResponse.makeCustomFile(response);\n                let myCustomArray = [myCustomFile, ...post];\n                console.log({\n                  response,\n                  myCustomFile\n                }); // console.log({ myCustomArray: myCustomArray });\n                // setSnackOpen(true);\n                // state.setApiData(\n                //   state.bread[state.bread.length - 1].id,\n                //   myCustomArray\n                // );\n                // setPost(myCustomArray);\n                // console.log({ post: post });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"upload picture\",\n              component: \"span\",\n              children: /*#__PURE__*/_jsxDEV(FileUploadIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: state.listView ? /*#__PURE__*/_jsxDEV(ListIcon, {\n              onClick: () => {\n                state.setListView(false);\n              },\n              sx: {\n                cursor: \"pointer\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(GridViewIcon, {\n              onClick: () => {\n                state.setListView(true);\n              },\n              sx: {\n                cursor: \"pointer\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NameDialog, {\n      open: open,\n      setOpen: setOpen,\n      handleClose: handleClose,\n      setPost: setPost,\n      post: post\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CustomSeparator, \"PgxOQQETddY453qFriLZpMT8TDs=\", false, function () {\n  return [useTrackedStore, useStyles];\n});\n\n_c = CustomSeparator;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomSeparator\");","map":{"version":3,"sources":["D:/Rayhan/Unique Project/zoho_api_axios(1)/src/components/Playground/BreadCumb.js"],"names":["React","AddIcon","FolderOpenIcon","NavigateNextIcon","SearchIcon","TextField","Typography","Breadcrumbs","Button","Grid","InputBase","Link","Stack","alpha","styled","makeStyles","axios","useForm","useTrackedStore","NameDialog","FileUploadIcon","IconButton","GridViewIcon","ListIcon","ApiCall","FileUploadResponse","Input","display","Search","theme","position","borderRadius","shape","backgroundColor","palette","common","white","marginLeft","width","breakpoints","up","spacing","SearchIconWrapper","padding","height","pointerEvents","alignItems","justifyContent","StyledInputBase","color","paddingLeft","transition","transitions","create","useStyles","breadcumbstyle","grid","button","margin","marginRight","boxShadow","CustomSeparator","setBreadCrumbsUrl","setSearchVal","searchVal","setPost","post","setSnackOpen","state","classes","open","setOpen","useState","name","setName","handleClickOpen","handleClose","handleDrop","e","file","console","log","id","childId","dataTransfer","getData","response","data","attributes","Permalink","parent_id","FileName","resource_id","childSize","type","myCustomFile","makeCustomFile","moveFile","token","then","resToBreadCrumb","xArray","filter","prop","fileDotId","setApiData","bread","length","apiData","tempArray","concat","setData","catch","error","myBread","map","index","top","target","value","files","FormData","append","fileUploader","slice","myCustomArray","listView","setListView","cursor"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport FolderOpenIcon from \"@mui/icons-material/FolderOpen\";\r\nimport NavigateNextIcon from \"@mui/icons-material/NavigateNext\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport { TextField, Typography } from \"@mui/material\";\r\nimport Breadcrumbs from \"@mui/material/Breadcrumbs\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport InputBase from \"@mui/material/InputBase\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { alpha, styled } from \"@mui/material/styles\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport axios from \"axios\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport useTrackedStore from \"../../store/useTrackedStore\";\r\nimport NameDialog from \"./NameDialog\";\r\nimport FileUploadIcon from \"@mui/icons-material/FileUpload\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport GridViewIcon from \"@mui/icons-material/GridView\";\r\nimport ListIcon from \"@mui/icons-material/List\";\r\nimport * as ApiCall from \"./api/ApiCalling\";\r\nimport * as FileUploadResponse from \"./api/FileUploadResponse\";\r\n\r\nconst Input = styled(\"input\")({\r\n  display: \"none\",\r\n});\r\n\r\n//search box component starts\r\n\r\nconst Search = styled(\"div\")(({ theme }) => ({\r\n  position: \"relative\",\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n  \"&:hover\": {\r\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n  },\r\n  marginLeft: 0,\r\n  width: \"100%\",\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    marginLeft: theme.spacing(1),\r\n    width: \"auto\",\r\n  },\r\n}));\r\n\r\nconst SearchIconWrapper = styled(\"div\")(({ theme }) => ({\r\n  padding: theme.spacing(0, 2),\r\n  height: \"100%\",\r\n  position: \"absolute\",\r\n  pointerEvents: \"none\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n}));\r\n\r\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: \"inherit\",\r\n  \"& .MuiInputBase-input\": {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"12ch\",\r\n      \"&:focus\": {\r\n        width: \"20ch\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n//search box component ends\r\n\r\nconst useStyles = makeStyles({\r\n  breadcumbstyle: {},\r\n  grid: {\r\n    backgroundColor: \"#EFEFEF\",\r\n    padding: \"0px 25px\",\r\n    alignItems: \"center\",\r\n  },\r\n  button: {\r\n    backgroundColor: \"#11BD97\",\r\n    height: \"70%\",\r\n    margin: \"auto\",\r\n    marginRight: 0,\r\n    boxShadow: \"none\",\r\n    borderRadius: \"2px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#0E997B\",\r\n      boxShadow: \"none\",\r\n    },\r\n  },\r\n});\r\n\r\nexport default function CustomSeparator({\r\n  setBreadCrumbsUrl,\r\n  setSearchVal,\r\n  searchVal,\r\n  setPost,\r\n  post,\r\n  setSnackOpen,\r\n}) {\r\n  const state = useTrackedStore();\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDrop = (e, file) => {\r\n    console.log({ e: file.id });\r\n    let childId = e.dataTransfer.getData(\"dropFile\");\r\n\r\n    let response = {\r\n      data: {\r\n        data: [\r\n          {\r\n            attributes: {\r\n              Permalink: e.dataTransfer.getData(\"filePermanentLink\"),\r\n              parent_id: file.id,\r\n              FileName: e.dataTransfer.getData(\"fileName\"),\r\n              resource_id: e.dataTransfer.getData(\"dropFile\"),\r\n              childSize: e.dataTransfer.getData(\"fileSize\"),\r\n            },\r\n            type: e.dataTransfer.getData(\"fileType\"),\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    let myCustomFile = FileUploadResponse.makeCustomFile(response);\r\n\r\n    ApiCall.moveFile(state.token, file, childId)\r\n      .then((response) => {\r\n        console.log({ resToBreadCrumb: response.data.data[0] });\r\n        let xArray = post.filter((prop) => prop.id != childId);\r\n        setSnackOpen(true);\r\n        setPost(xArray);\r\n\r\n        console.log({ fileDotId: file.id });\r\n        state.setApiData(state.bread[state.bread.length - 1].id, xArray);\r\n        if (state.apiData[file.id]) {\r\n          let tempArray = state.apiData[file.id].concat([myCustomFile]);\r\n          state.setApiData(file.id, tempArray);\r\n        }\r\n        // console.log({ inner: state.apiData[file.id] });\r\n        e.dataTransfer.setData(\"dropFile\", null);\r\n        console.log(response);\r\n        setSnackOpen(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log({ error: error });\r\n      });\r\n  };\r\n\r\n  const myBread = state.bread?.map((file, index) => {\r\n    if (index == state.bread.length - 1) {\r\n      return (\r\n        <Typography key=\"3\" color=\"text.primary\">\r\n          {file.name}\r\n        </Typography>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link\r\n          underline=\"none\"\r\n          key={index}\r\n          color=\"inherit\"\r\n          href=\"#\"\r\n          id={file?.id}\r\n          onDrop={(e) => handleDrop(e, file)}\r\n          onClick={() => {\r\n            setBreadCrumbsUrl(file);\r\n          }}\r\n        >\r\n          <p>{file.name}</p>\r\n        </Link>\r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Grid className={classes.grid} item container>\r\n      <Grid item md={7}>\r\n        <Stack sx={{ position: \"relative\", top: \"3px\" }}>\r\n          <Breadcrumbs\r\n            separator={<NavigateNextIcon fontSize=\"small\" />}\r\n            aria-label=\"breadcrumb\"\r\n            className={classes.breadcumbstyle}\r\n          >\r\n            {myBread}\r\n          </Breadcrumbs>\r\n        </Stack>\r\n      </Grid>\r\n      <Grid item md={5}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            padding: \"1.5%\",\r\n            marginLeft: \"auto\",\r\n          }}\r\n        >\r\n          <Search>\r\n            <SearchIconWrapper>\r\n              <SearchIcon />\r\n            </SearchIconWrapper>\r\n            <StyledInputBase\r\n              placeholder=\"Search…\"\r\n              value={searchVal}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              onChange={(e) => setSearchVal(e.target.value)}\r\n            />\r\n          </Search>\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            startIcon={<AddIcon />}\r\n            onClick={handleClickOpen}\r\n          >\r\n            New\r\n          </Button>\r\n\r\n          <Stack\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n            style={{ marginLeft: \"20px\" }}\r\n          >\r\n            <label htmlFor=\"icon-button-file\">\r\n              <Input\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                name=\"file\"\r\n                onChange={async (e) => {\r\n                  console.log({\r\n                    files: e.target.files\r\n                  });\r\n                  const data = new FormData();\r\n                  data.append(\"file\", e.target.files[0]);\r\n\r\n                  let response = await ApiCall.fileUploader(\r\n                    state.token,\r\n                    data,\r\n                    state.bread.slice(-1)[0].id\r\n                  );\r\n\r\n                  let myCustomFile =\r\n                    FileUploadResponse.makeCustomFile(response);\r\n                  let myCustomArray = [myCustomFile, ...post];\r\n                  \r\n                  console.log({response, myCustomFile});\r\n                  // console.log({ myCustomArray: myCustomArray });\r\n                  // setSnackOpen(true);\r\n                  // state.setApiData(\r\n                  //   state.bread[state.bread.length - 1].id,\r\n                  //   myCustomArray\r\n                  // );\r\n                  // setPost(myCustomArray);\r\n                  // console.log({ post: post });\r\n                }}\r\n              />\r\n              <IconButton aria-label=\"upload picture\" component=\"span\">\r\n                <FileUploadIcon />\r\n              </IconButton>\r\n            </label>\r\n            <label>\r\n              {state.listView ? (\r\n                <ListIcon\r\n                  onClick={() => {\r\n                    state.setListView(false);\r\n                  }}\r\n                  sx={{ cursor: \"pointer\" }}\r\n                />\r\n              ) : (\r\n                <GridViewIcon\r\n                  onClick={() => {\r\n                    state.setListView(true);\r\n                  }}\r\n                  sx={{ cursor: \"pointer\" }}\r\n                />\r\n              )}\r\n            </label>\r\n          </Stack>\r\n        </div>\r\n      </Grid>\r\n\r\n      <NameDialog\r\n        open={open}\r\n        setOpen={setOpen}\r\n        handleClose={handleClose}\r\n        setPost={setPost}\r\n        post={post}\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}